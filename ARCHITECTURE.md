# ğŸ—ï¸ DonateConnect - System Architecture

## ğŸ“ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CLIENT LAYER                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   DONOR      â”‚    â”‚  VOLUNTEER   â”‚    â”‚   ORGANIZATION     â”‚            â”‚
â”‚  â”‚  Dashboard   â”‚    â”‚  Dashboard   â”‚    â”‚    Dashboard       â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚         â”‚                   â”‚                      â”‚                        â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                             â”‚                                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚                    â”‚   React Router  â”‚                                      â”‚
â”‚                    â”‚   + AuthContext â”‚                                      â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚                             â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP/REST API
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API LAYER (Express.js)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚                                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚                    â”‚  Auth Middleware â”‚                                      â”‚
â”‚                    â”‚   (JWT/Demo)     â”‚                                      â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚                             â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚          â”‚           â”‚       â”‚            â”‚            â”‚                â”‚
â”‚  â–¼          â–¼           â–¼       â–¼            â–¼            â–¼                â”‚
â”‚ /auth   /donations  /volunteers /admin   /messages  /organization          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚                                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚         â”‚                   â”‚                   â”‚                           â”‚
â”‚         â–¼                   â–¼                   â–¼                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚ MongoDB  â”‚       â”‚ Demo Dataâ”‚       â”‚ localStorage â”‚                   â”‚
â”‚   â”‚(Optional)â”‚       â”‚ (Fallback)â”‚      â”‚   (Client)   â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

### Donation Creation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Donor  â”‚         â”‚ Frontendâ”‚         â”‚ Backend â”‚         â”‚  Data   â”‚
â”‚         â”‚         â”‚         â”‚         â”‚         â”‚         â”‚  Store  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚ 1. Create Donationâ”‚                   â”‚                   â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 2. POST /api/donations                â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚ 3. Save Donation  â”‚
     â”‚                   â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                   â”‚                   â”‚ 4. Return ID      â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
     â”‚                   â”‚ 5. Success + Data â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚                   â”‚ 6. Save to localStorage (backup)      â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
     â”‚                   â”‚                   â”‚                   â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                   â”‚
     â”‚ 7. Show Success   â”‚                   â”‚                   â”‚
     â”‚                   â”‚                   â”‚                   â”‚
```

### Volunteer Task Acceptance Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Volunteer â”‚      â”‚ Frontendâ”‚      â”‚ Backend â”‚      â”‚  Donor  â”‚
â”‚          â”‚      â”‚         â”‚      â”‚         â”‚      â”‚         â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                 â”‚                â”‚                â”‚
     â”‚ 1. View Tasks   â”‚                â”‚                â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚                â”‚
     â”‚                 â”‚ 2. GET tasks   â”‚                â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚
     â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚
     â”‚                 â”‚                â”‚                â”‚
     â”‚ 3. Accept Task  â”‚                â”‚                â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚                â”‚
     â”‚                 â”‚ 4. PUT status  â”‚                â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚
     â”‚                 â”‚                â”‚ 5. Notify      â”‚
     â”‚                 â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ 6. Confirmed   â”‚                â”‚
     â”‚                 â”‚                â”‚                â”‚
```

### OTP Verification Flow (Needy Person)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Organizationâ”‚    â”‚   Frontend  â”‚    â”‚ Backend â”‚    â”‚Needy     â”‚
â”‚   Staff    â”‚    â”‚             â”‚    â”‚         â”‚    â”‚Person    â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â”‚                  â”‚                â”‚              â”‚
      â”‚ 1. Send OTP      â”‚                â”‚              â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚              â”‚
      â”‚                  â”‚ 2. Generate OTPâ”‚              â”‚
      â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚
      â”‚                  â”‚                â”‚ 3. Send SMS  â”‚
      â”‚                  â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
      â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ 4. OTP Sent    â”‚              â”‚
      â”‚                  â”‚                â”‚              â”‚
      â”‚                  â”‚                â”‚              â”‚â—„â”€ Receives OTP
      â”‚                  â”‚                â”‚              â”‚
      â”‚ 5. Enter OTP     â”‚                â”‚              â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚              â”‚
      â”‚                  â”‚ 6. Verify OTP  â”‚              â”‚
      â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚
      â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ 7. Verified âœ“  â”‚              â”‚
      â”‚                  â”‚                â”‚              â”‚
```

---

## ğŸ§© Component Architecture

### Frontend Components

```
src/
â”œâ”€â”€ App.jsx                    # Root component with routing
â”œâ”€â”€ main.jsx                   # Entry point
â”‚
â”œâ”€â”€ context/
â”‚   â””â”€â”€ AuthContext.jsx        # Global auth state management
â”‚       â”œâ”€â”€ user state
â”‚       â”œâ”€â”€ login()
â”‚       â”œâ”€â”€ logout()
â”‚       â””â”€â”€ demo token handling
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Navbar.jsx             # Navigation with role-based menu
â”‚   â”œâ”€â”€ ProtectedRoute.jsx     # Route guard component
â”‚   â”œâ”€â”€ LiveTracking.jsx       # Real-time map tracking
â”‚   â”œâ”€â”€ SearchFilter.jsx       # Search and filter utilities
â”‚   â””â”€â”€ Toast.jsx              # Notification system
â”‚
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Home.jsx               # Landing page with role selection
â”‚   â”‚
â”‚   â”œâ”€â”€ DonorDashboard.jsx     # Donor features
â”‚   â”‚   â”œâ”€â”€ Category selection
â”‚   â”‚   â”œâ”€â”€ Donation form
â”‚   â”‚   â”œâ”€â”€ Live tracking modal
â”‚   â”‚   â””â”€â”€ History & badges
â”‚   â”‚
â”‚   â”œâ”€â”€ VolunteerDashboard.jsx # Volunteer features
â”‚   â”‚   â”œâ”€â”€ Available tasks
â”‚   â”‚   â”œâ”€â”€ My tasks
â”‚   â”‚   â”œâ”€â”€ Mission map
â”‚   â”‚   â””â”€â”€ QR verification
â”‚   â”‚
â”‚   â””â”€â”€ OrganizationDashboard.jsx
â”‚       â”œâ”€â”€ Overview tab
â”‚       â”œâ”€â”€ Urgent needs tab
â”‚       â”œâ”€â”€ Needy persons tab
â”‚       â”œâ”€â”€ Campaigns tab
â”‚       â”œâ”€â”€ Volunteers tab
â”‚       â”œâ”€â”€ Donations tab
â”‚       â””â”€â”€ Messages tab
â”‚
â””â”€â”€ services/
    â””â”€â”€ api.js                 # Axios API configuration
        â”œâ”€â”€ authAPI
        â”œâ”€â”€ donationAPI
        â”œâ”€â”€ volunteerAPI
        â”œâ”€â”€ adminAPI
        â”œâ”€â”€ messageAPI
        â””â”€â”€ organizationAPI
```

### Backend Structure

```
backend/
â”œâ”€â”€ server.js                  # Express app entry
â”‚   â”œâ”€â”€ CORS configuration
â”‚   â”œâ”€â”€ Route mounting
â”‚   â””â”€â”€ Health check endpoint
â”‚
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.js                # JWT/Demo authentication
â”‚       â”œâ”€â”€ Token extraction
â”‚       â”œâ”€â”€ JWT verification
â”‚       â””â”€â”€ Demo token handling
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.js                # /api/auth/*
â”‚   â”‚   â”œâ”€â”€ POST /register
â”‚   â”‚   â””â”€â”€ POST /login
â”‚   â”‚
â”‚   â”œâ”€â”€ donations.js           # /api/donations/*
â”‚   â”‚   â”œâ”€â”€ GET /              (list donations)
â”‚   â”‚   â”œâ”€â”€ POST /             (create donation)
â”‚   â”‚   â”œâ”€â”€ GET /:id           (get single)
â”‚   â”‚   â””â”€â”€ PUT /:id/status    (update status)
â”‚   â”‚
â”‚   â”œâ”€â”€ volunteers.js          # /api/volunteers/*
â”‚   â”‚   â”œâ”€â”€ GET /tasks         (available tasks)
â”‚   â”‚   â”œâ”€â”€ GET /my-tasks      (assigned tasks)
â”‚   â”‚   â”œâ”€â”€ POST /accept/:id   (accept task)
â”‚   â”‚   â””â”€â”€ PUT /status/:id    (update status)
â”‚   â”‚
â”‚   â”œâ”€â”€ organization.js        # /api/organization/*
â”‚   â”‚   â”œâ”€â”€ Campaign CRUD
â”‚   â”‚   â”œâ”€â”€ Volunteer management
â”‚   â”‚   â””â”€â”€ Donation management
â”‚   â”‚
â”‚   â””â”€â”€ messages.js            # /api/messages/*
â”‚       â”œâ”€â”€ GET /              (get messages)
â”‚       â””â”€â”€ POST /             (send message)
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js                # User schema
â”‚   â””â”€â”€ Donation.js            # Donation schema
â”‚
â””â”€â”€ config/
    â””â”€â”€ demoData.js            # Mock data for demo mode
```

---

## ğŸ” Authentication Architecture

### Token Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION FLOW                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Login     â”‚                      â”‚   Backend   â”‚       â”‚
â”‚  â”‚   Form      â”‚                      â”‚   Server    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                    â”‚              â”‚
â”‚         â”‚ 1. POST /auth/login               â”‚              â”‚
â”‚         â”‚ {email, password, role}           â”‚              â”‚
â”‚         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚
â”‚         â”‚                                    â”‚              â”‚
â”‚         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚              â”‚
â”‚         â”‚         â”‚ Validate credentials    â”‚â”‚              â”‚
â”‚         â”‚         â”‚ Generate JWT token      â”‚â”‚              â”‚
â”‚         â”‚         â”‚ OR create demo token    â”‚â”‚              â”‚
â”‚         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚              â”‚
â”‚         â”‚                                    â”‚              â”‚
â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
â”‚         â”‚ 2. {token, user}                  â”‚              â”‚
â”‚         â”‚                                    â”‚              â”‚
â”‚         â”‚                                    â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                            â”‚              â”‚
â”‚  â”‚ Store in    â”‚                            â”‚              â”‚
â”‚  â”‚ localStorageâ”‚                            â”‚              â”‚
â”‚  â”‚ + Context   â”‚                            â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚              â”‚
â”‚                                              â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Demo Token Format

```javascript
// Demo token structure
token = `demo-token-${role}-${timestamp}`

// Examples:
"demo-token-donor-1707350400000"
"demo-token-volunteer-1707350400000"
"demo-token-organization-1707350400000"
```

### Auth Middleware Logic

```javascript
// Simplified auth flow
if (token.startsWith('demo-token-')) {
  // Extract role from demo token
  const parts = token.split('-');
  req.user = { role: parts[2], isDemo: true };
} else {
  // Verify JWT token
  const decoded = jwt.verify(token, JWT_SECRET);
  req.user = decoded;
}
```

---

## ğŸ’¾ Data Models

### User Model

```javascript
{
  _id: ObjectId,
  name: String,
  email: String (unique),
  password: String (hashed),
  phone: String,
  role: Enum ['donor', 'volunteer', 'organization', 'admin'],
  address: {
    street: String,
    city: String,
    pincode: String
  },
  createdAt: Date,
  updatedAt: Date
}
```

### Donation Model

```javascript
{
  _id: ObjectId,
  donor: ObjectId (ref: User),
  title: String,
  description: String,
  category: Enum ['food', 'clothes', 'books', 'medical', 'electronics', 'furniture', 'toys', 'other'],
  quantity: String,
  pickupAddress: String,
  city: String,
  pincode: String,
  status: Enum ['CREATED', 'ASSIGNED', 'PICKED_UP', 'DELIVERED'],
  assignedVolunteer: ObjectId (ref: User),
  volunteerLocation: {
    latitude: Number,
    longitude: Number,
    lastUpdated: Date
  },
  createdAt: Date,
  updatedAt: Date
}
```

### Needy Person (localStorage)

```javascript
{
  id: Number,
  name: String,
  phone: String,
  address: String,
  familySize: Number,
  needType: String,
  aadhaarLast4: String,
  verified: Boolean,
  status: Enum ['pending', 'active'],
  lastReceived: Date,
  totalReceived: Number
}
```

---

## ğŸ—ºï¸ State Management

### Client-Side State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATE ARCHITECTURE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  AuthContext (Global)                â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ user: { name, email, role, token }             â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ isAuthenticated: boolean                        â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ login(credentials): Promise                     â”‚    â”‚
â”‚  â”‚  â””â”€â”€ logout(): void                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                                   â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚         â–¼                â–¼                â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Donor    â”‚   â”‚ Volunteer  â”‚   â”‚  Organization  â”‚      â”‚
â”‚  â”‚   State    â”‚   â”‚   State    â”‚   â”‚     State      â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ donations  â”‚   â”‚ tasks      â”‚   â”‚ campaigns      â”‚      â”‚
â”‚  â”‚ showForm   â”‚   â”‚ myTasks    â”‚   â”‚ volunteers     â”‚      â”‚
â”‚  â”‚ formData   â”‚   â”‚ stats      â”‚   â”‚ needyPersons   â”‚      â”‚
â”‚  â”‚ tracking   â”‚   â”‚ showMap    â”‚   â”‚ urgentNeeds    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ messages       â”‚      â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚               localStorage (Persistence)             â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ token                                           â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ localDonations                                  â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ urgentNeeds                                     â”‚    â”‚
â”‚  â”‚  â””â”€â”€ user                                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ API Endpoints Summary

| Method | Endpoint | Description | Auth |
|--------|----------|-------------|------|
| POST | `/api/auth/register` | Register new user | No |
| POST | `/api/auth/login` | Login user | No |
| GET | `/api/donations` | List donations | Yes |
| POST | `/api/donations` | Create donation | Yes |
| GET | `/api/donations/:id` | Get donation details | Yes |
| PUT | `/api/donations/:id/status` | Update status | Yes |
| GET | `/api/volunteers/tasks` | Get available tasks | Yes |
| GET | `/api/volunteers/my-tasks` | Get assigned tasks | Yes |
| POST | `/api/volunteers/accept/:id` | Accept task | Yes |
| PUT | `/api/volunteers/status/:id` | Update task status | Yes |
| GET | `/api/messages` | Get messages | Yes |
| POST | `/api/messages` | Send message | Yes |
| GET | `/api/organization/campaigns` | Get campaigns | Yes |
| POST | `/api/organization/campaigns` | Create campaign | Yes |
| GET | `/api/health` | Health check | No |

---

## ğŸ”„ Real-Time Features

### Live Tracking Implementation

```javascript
// Polling-based location updates (every 5 seconds)
useEffect(() => {
  const interval = setInterval(() => {
    if (donation.status === 'PICKED_UP') {
      fetchVolunteerLocation(donation._id);
    }
  }, 5000);
  
  return () => clearInterval(interval);
}, [donation]);
```

### Auto-Refresh Data

```javascript
// Dashboard data refresh (every 10 seconds)
useEffect(() => {
  fetchData();
  const interval = setInterval(fetchData, 10000);
  return () => clearInterval(interval);
}, []);
```

---

## ğŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEPLOYMENT OPTIONS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Option 1: Separate Deployment                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   Vercel/    â”‚         â”‚   Render/    â”‚                 â”‚
â”‚  â”‚   Netlify    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Railway    â”‚                 â”‚
â”‚  â”‚  (Frontend)  â”‚   API   â”‚  (Backend)   â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                              â”‚
â”‚  Option 2: Full-Stack Platform                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚              Render / Railway            â”‚               â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚               â”‚
â”‚  â”‚  â”‚  Frontend   â”‚  â”‚    Backend      â”‚   â”‚               â”‚
â”‚  â”‚  â”‚  (Static)   â”‚  â”‚   (Node.js)     â”‚   â”‚               â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                              â”‚
â”‚  Database: MongoDB Atlas (Cloud)                            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Performance Considerations

1. **Lazy Loading** - Route-based code splitting
2. **Local Storage** - Offline capability for demo mode
3. **Optimistic Updates** - UI updates before API confirmation
4. **Polling Intervals** - Configurable refresh rates
5. **Image Optimization** - Using emoji icons instead of images

---

**Architecture designed for TECHMENTORX Hackathon 2026**
